namespace Cyberjax
{
    public struct IntegerDivider
    {
        private readonly long M;
        public long S;

        private IntegerDivider(long m, int s)
        {
            M = m;
            S = s;
        }

        public int Divide(int numerator)
        {
            return (int)((numerator * M) >> (int)S);
        }

        private static readonly IntegerDivider[] Dividers = new IntegerDivider[]
        {
            new IntegerDivider(0X00000000, 32),
            new IntegerDivider(0X100000000, 32),
            new IntegerDivider(0X80000001, 32),
            new IntegerDivider(0X55555556, 32),
            new IntegerDivider(0X80000001, 33),
            new IntegerDivider(0X66666667, 33),
            new IntegerDivider(0X2AAAAAAB, 32),
            new IntegerDivider(0X92492493, 34),
            new IntegerDivider(0X80000001, 34),
            new IntegerDivider(0X38E38E39, 33),
            new IntegerDivider(0X66666667, 34),
            new IntegerDivider(0X2E8BA2E9, 33),
            new IntegerDivider(0X2AAAAAAB, 33),
            new IntegerDivider(0X4EC4EC4F, 34),
            new IntegerDivider(0X92492493, 35),
            new IntegerDivider(0X88888889, 35),
            new IntegerDivider(0X80000001, 35),
            new IntegerDivider(0X78787879, 35),
            new IntegerDivider(0X38E38E39, 34),
            new IntegerDivider(0X6BCA1AF3, 35),
            new IntegerDivider(0X66666667, 35),
            new IntegerDivider(0X30C30C31, 34),
            new IntegerDivider(0X2E8BA2E9, 34),
            new IntegerDivider(0XB21642C9, 36),
            new IntegerDivider(0X2AAAAAAB, 34),
            new IntegerDivider(0X51EB851F, 35),
            new IntegerDivider(0X4EC4EC4F, 35),
            new IntegerDivider(0X4BDA12F7, 35),
            new IntegerDivider(0X92492493, 36),
            new IntegerDivider(0X8D3DCB09, 36),
            new IntegerDivider(0X88888889, 36),
            new IntegerDivider(0X84210843, 36),
            new IntegerDivider(0X80000001, 36),
            new IntegerDivider(0X3E0F83E1, 35),
            new IntegerDivider(0X78787879, 36),
            new IntegerDivider(0XEA0EA0EB, 37),
            new IntegerDivider(0X38E38E39, 35),
            new IntegerDivider(0XDD67C8A7, 37),
            new IntegerDivider(0X6BCA1AF3, 36),
            new IntegerDivider(0XD20D20D3, 37),
            new IntegerDivider(0X66666667, 36),
            new IntegerDivider(0X63E7063F, 36),
            new IntegerDivider(0X30C30C31, 35),
            new IntegerDivider(0X2FA0BE83, 35),
            new IntegerDivider(0X2E8BA2E9, 35),
            new IntegerDivider(0XB60B60B7, 37),
            new IntegerDivider(0XB21642C9, 37),
            new IntegerDivider(0XAE4C415D, 37),
            new IntegerDivider(0X2AAAAAAB, 35),
            new IntegerDivider(0X5397829D, 36),
            new IntegerDivider(0X51EB851F, 36),
            new IntegerDivider(0XA0A0A0A1, 37),
            new IntegerDivider(0X4EC4EC4F, 36),
            new IntegerDivider(0X4D4873ED, 36),
            new IntegerDivider(0X4BDA12F7, 36),
            new IntegerDivider(0X094F2095, 33),
            new IntegerDivider(0X92492493, 37),
            new IntegerDivider(0X8FB823EF, 37),
            new IntegerDivider(0X8D3DCB09, 37),
            new IntegerDivider(0X22B63CBF, 35),
            new IntegerDivider(0X88888889, 37),
            new IntegerDivider(0X4325C53F, 36),
            new IntegerDivider(0X84210843, 37),
            new IntegerDivider(0X82082083, 37),
            new IntegerDivider(0X80000001, 37),
            new IntegerDivider(0X7E07E07F, 37),
            new IntegerDivider(0X3E0F83E1, 36),
            new IntegerDivider(0X07A44C6B, 33),
            new IntegerDivider(0X78787879, 37),
            new IntegerDivider(0X76B981DB, 37),
            new IntegerDivider(0XEA0EA0EB, 38),
            new IntegerDivider(0XE6C2B449, 38),
            new IntegerDivider(0X38E38E39, 36),
            new IntegerDivider(0XE070381D, 38),
            new IntegerDivider(0XDD67C8A7, 38),
            new IntegerDivider(0X1B4E81B5, 35),
            new IntegerDivider(0X6BCA1AF3, 37),
            new IntegerDivider(0X3531DEC1, 36),
            new IntegerDivider(0XD20D20D3, 38),
            new IntegerDivider(0X67B23A55, 37),
            new IntegerDivider(0X66666667, 37),
            new IntegerDivider(0X1948B0FD, 35),
            new IntegerDivider(0X63E7063F, 37),
            new IntegerDivider(0X3159721F, 36),
            new IntegerDivider(0X30C30C31, 36),
            new IntegerDivider(0X60606061, 37),
            new IntegerDivider(0X2FA0BE83, 36),
            new IntegerDivider(0X2F149903, 36),
            new IntegerDivider(0X2E8BA2E9, 36),
            new IntegerDivider(0XB81702E1, 38),
            new IntegerDivider(0XB60B60B7, 38),
            new IntegerDivider(0XB40B40B5, 38),
            new IntegerDivider(0XB21642C9, 38),
            new IntegerDivider(0X2C0B02C1, 36),
            new IntegerDivider(0XAE4C415D, 38),
            new IntegerDivider(0XAC769185, 38),
            new IntegerDivider(0X2AAAAAAB, 36),
            new IntegerDivider(0X151D07EB, 35),
            new IntegerDivider(0X5397829D, 37),
            new IntegerDivider(0XA57EB503, 38),
            new IntegerDivider(0X51EB851F, 37),
            new IntegerDivider(0X288DF0CB, 36),
            new IntegerDivider(0XA0A0A0A1, 38),
            new IntegerDivider(0X13E22CBD, 35),
            new IntegerDivider(0X4EC4EC4F, 37),
            new IntegerDivider(0X9C09C09D, 38),
            new IntegerDivider(0X4D4873ED, 37),
            new IntegerDivider(0X4C8F8D29, 37),
            new IntegerDivider(0X4BDA12F7, 37),
            new IntegerDivider(0X964FDA6D, 38),
            new IntegerDivider(0X094F2095, 34),
            new IntegerDivider(0X939A85C5, 38),
            new IntegerDivider(0X92492493, 38),
            new IntegerDivider(0X487EDE05, 37),
            new IntegerDivider(0X8FB823EF, 38),
            new IntegerDivider(0X473C1AB7, 37),
            new IntegerDivider(0X8D3DCB09, 38),
            new IntegerDivider(0X8C08C08D, 38),
            new IntegerDivider(0X22B63CBF, 36),
            new IntegerDivider(0X44D72045, 37),
            new IntegerDivider(0X88888889, 38),
            new IntegerDivider(0X043B3D5B, 33),
            new IntegerDivider(0X4325C53F, 37),
            new IntegerDivider(0X214D0215, 36),
            new IntegerDivider(0X84210843, 38),
            new IntegerDivider(0X10624DD3, 35),
            new IntegerDivider(0X82082083, 38),
            new IntegerDivider(0X81020409, 38),
            new IntegerDivider(0X80000001, 38),
            new IntegerDivider(0X0FE03F81, 35),
            new IntegerDivider(0X7E07E07F, 38),
            new IntegerDivider(0X3E88CB3D, 37),
            new IntegerDivider(0X3E0F83E1, 37),
            new IntegerDivider(0XF6603D99, 39),
            new IntegerDivider(0X07A44C6B, 34),
            new IntegerDivider(0XF2B9D649, 39),
            new IntegerDivider(0X78787879, 38),
            new IntegerDivider(0X077975B9, 34),
            new IntegerDivider(0X76B981DB, 38),
            new IntegerDivider(0X75DED953, 38),
            new IntegerDivider(0XEA0EA0EB, 39),
            new IntegerDivider(0X3A196B1F, 37),
            new IntegerDivider(0XE6C2B449, 39),
            new IntegerDivider(0X3949660B, 37),
            new IntegerDivider(0X38E38E39, 37),
            new IntegerDivider(0XE1FC780F, 39),
            new IntegerDivider(0XE070381D, 39),
            new IntegerDivider(0X6F74AE27, 38),
            new IntegerDivider(0XDD67C8A7, 39),
            new IntegerDivider(0X0DBEB61F, 35),
            new IntegerDivider(0X1B4E81B5, 36),
            new IntegerDivider(0X36406C81, 37),
            new IntegerDivider(0X6BCA1AF3, 38),
            new IntegerDivider(0XD62B80D7, 39),
            new IntegerDivider(0X3531DEC1, 37),
            new IntegerDivider(0X1A6D01A7, 36),
            new IntegerDivider(0XD20D20D3, 39),
            new IntegerDivider(0X342DA7F3, 37),
            new IntegerDivider(0X67B23A55, 38),
            new IntegerDivider(0X19C2D14F, 36),
            new IntegerDivider(0X66666667, 38),
            new IntegerDivider(0XCB8727C1, 39),
            new IntegerDivider(0X1948B0FD, 36),
            new IntegerDivider(0X0C907DA5, 35),
            new IntegerDivider(0X63E7063F, 38),
            new IntegerDivider(0X634C0635, 38),
            new IntegerDivider(0X3159721F, 37),
            new IntegerDivider(0X621B97C3, 38),
            new IntegerDivider(0X30C30C31, 37),
            new IntegerDivider(0X60F25DEB, 38),
            new IntegerDivider(0X60606061, 38),
            new IntegerDivider(0XBFA02FE9, 39),
            new IntegerDivider(0X2FA0BE83, 37),
            new IntegerDivider(0X17AD2209, 36),
            new IntegerDivider(0X2F149903, 37),
            new IntegerDivider(0X5D9F7391, 38),
            new IntegerDivider(0X2E8BA2E9, 37),
            new IntegerDivider(0XB92143FB, 39),
            new IntegerDivider(0XB81702E1, 39),
            new IntegerDivider(0XB70FBB5B, 39),
            new IntegerDivider(0XB60B60B7, 39),
            new IntegerDivider(0X2D4279A3, 37),
            new IntegerDivider(0XB40B40B5, 39),
            new IntegerDivider(0XB30F6353, 39),
            new IntegerDivider(0XB21642C9, 39),
            new IntegerDivider(0XB11FD3B9, 39),
            new IntegerDivider(0X2C0B02C1, 37),
            new IntegerDivider(0XAF3ADDC7, 39),
            new IntegerDivider(0XAE4C415D, 39),
            new IntegerDivider(0XAD602B59, 39),
            new IntegerDivider(0XAC769185, 39),
            new IntegerDivider(0XAB8F69E3, 39),
            new IntegerDivider(0X2AAAAAAB, 37),
            new IntegerDivider(0X15390949, 36),
            new IntegerDivider(0X151D07EB, 36),
            new IntegerDivider(0XA80A80A9, 39),
            new IntegerDivider(0X5397829D, 38),
            new IntegerDivider(0X532AE21D, 38),
            new IntegerDivider(0XA57EB503, 39),
            new IntegerDivider(0X5254E78F, 38),
            new IntegerDivider(0X51EB851F, 38),
            new IntegerDivider(0X028C1979, 33),
            new IntegerDivider(0X288DF0CB, 37),
            new IntegerDivider(0XA16B312F, 39),
            new IntegerDivider(0XA0A0A0A1, 39),
            new IntegerDivider(0X4FEC04FF, 38),
            new IntegerDivider(0X13E22CBD, 36),
            new IntegerDivider(0X27932B49, 37),
            new IntegerDivider(0X4EC4EC4F, 38),
            new IntegerDivider(0X9CC8E161, 39),
            new IntegerDivider(0X9C09C09D, 39),
            new IntegerDivider(0X04DA637D, 34),
            new IntegerDivider(0X4D4873ED, 38),
            new IntegerDivider(0X99D722DB, 39),
            new IntegerDivider(0X4C8F8D29, 38),
            new IntegerDivider(0X4C346405, 38),
            new IntegerDivider(0X4BDA12F7, 38),
            new IntegerDivider(0X97012E03, 39),
            new IntegerDivider(0X964FDA6D, 39),
            new IntegerDivider(0X95A02569, 39),
            new IntegerDivider(0X094F2095, 35),
            new IntegerDivider(0X94458095, 39),
            new IntegerDivider(0X939A85C5, 39),
            new IntegerDivider(0X92F11385, 39),
            new IntegerDivider(0X92492493, 39),
            new IntegerDivider(0X91A2B3C5, 39),
            new IntegerDivider(0X487EDE05, 38),
            new IntegerDivider(0X24168E19, 37),
            new IntegerDivider(0X8FB823EF, 39),
            new IntegerDivider(0X478BBCED, 38),
            new IntegerDivider(0X473C1AB7, 38),
            new IntegerDivider(0X8DDA5203, 39),
            new IntegerDivider(0X8D3DCB09, 39),
            new IntegerDivider(0X8CA29C05, 39),
            new IntegerDivider(0X8C08C08D, 39),
            new IntegerDivider(0X8B70344B, 39),
            new IntegerDivider(0X22B63CBF, 37),
            new IntegerDivider(0X8A42F871, 39),
            new IntegerDivider(0X44D72045, 38),
            new IntegerDivider(0X891AC73B, 39),
            new IntegerDivider(0X88888889, 39),
            new IntegerDivider(0X10FEF011, 36),
            new IntegerDivider(0X043B3D5B, 34),
            new IntegerDivider(0X86D90545, 39),
            new IntegerDivider(0X4325C53F, 38),
            new IntegerDivider(0X42DF9BB1, 38),
            new IntegerDivider(0X214D0215, 37),
            new IntegerDivider(0X84A9F9C9, 39),
            new IntegerDivider(0X84210843, 39),
            new IntegerDivider(0X83993053, 39),
            new IntegerDivider(0X10624DD3, 36),
            new IntegerDivider(0X828CBFBF, 39),
            new IntegerDivider(0X82082083, 39),
            new IntegerDivider(0X81848DA9, 39),
            new IntegerDivider(0X81020409, 39),
            new IntegerDivider(0X80808081, 39),
            new IntegerDivider(0X80000001, 39),
            new IntegerDivider(0X7F807F81, 39),
            new IntegerDivider(0X0FE03F81, 36),
            new IntegerDivider(0X7E8472A9, 39),
            new IntegerDivider(0X7E07E07F, 39),
            new IntegerDivider(0X7D8C42B3, 39),
            new IntegerDivider(0X3E88CB3D, 38),
            new IntegerDivider(0X7C97D911, 39),
            new IntegerDivider(0X3E0F83E1, 38),
            new IntegerDivider(0X3DD38FF1, 38),
            new IntegerDivider(0XF6603D99, 40),
            new IntegerDivider(0X7ABA01EB, 39),
            new IntegerDivider(0X07A44C6B, 35),
            new IntegerDivider(0X79D06A97, 39),
            new IntegerDivider(0XF2B9D649, 40),
            new IntegerDivider(0X0F1D48BD, 36),
            new IntegerDivider(0X78787879, 39),
            new IntegerDivider(0XF00F00F1, 40),
            new IntegerDivider(0X077975B9, 35),
            new IntegerDivider(0X77280773, 39),
            new IntegerDivider(0X76B981DB, 39),
            new IntegerDivider(0X764BC88D, 39),
            new IntegerDivider(0X75DED953, 39),
            new IntegerDivider(0X3AB95901, 38),
            new IntegerDivider(0XEA0EA0EB, 40),
            new IntegerDivider(0X0749CB29, 35),
            new IntegerDivider(0X3A196B1F, 38),
            new IntegerDivider(0XE79372E3, 40),
            new IntegerDivider(0XE6C2B449, 40),
            new IntegerDivider(0XE5F36CB1, 40),
            new IntegerDivider(0X3949660B, 38),
            new IntegerDivider(0X1C8B265B, 37),
            new IntegerDivider(0X38E38E39, 38),
            new IntegerDivider(0X71625345, 39),
            new IntegerDivider(0XE1FC780F, 40),
            new IntegerDivider(0X709AD4E5, 39),
            new IntegerDivider(0XE070381D, 40),
            new IntegerDivider(0XDFAC1F75, 40),
            new IntegerDivider(0X6F74AE27, 39),
            new IntegerDivider(0XDE27EB2D, 40),
            new IntegerDivider(0XDD67C8A7, 40),
            new IntegerDivider(0X6E5478AD, 39),
            new IntegerDivider(0X0DBEB61F, 36),
            new IntegerDivider(0X6D978B8F, 39),
            new IntegerDivider(0X1B4E81B5, 37),
            new IntegerDivider(0X1B37484B, 37),
            new IntegerDivider(0X36406C81, 38),
            new IntegerDivider(0X0D84A599, 36),
            new IntegerDivider(0X6BCA1AF3, 39),
            new IntegerDivider(0X6B6FA1FF, 39),
            new IntegerDivider(0XD62B80D7, 40),
            new IntegerDivider(0XD578E97D, 40),
            new IntegerDivider(0X3531DEC1, 38),
            new IntegerDivider(0X6A0B9945, 39),
            new IntegerDivider(0X1A6D01A7, 37),
            new IntegerDivider(0X34AE820F, 38),
            new IntegerDivider(0XD20D20D3, 40),
            new IntegerDivider(0XD161543F, 40),
            new IntegerDivider(0X342DA7F3, 38),
            new IntegerDivider(0XD00D00D1, 40),
            new IntegerDivider(0X67B23A55, 39),
            new IntegerDivider(0X33AF3E2F, 38),
            new IntegerDivider(0X19C2D14F, 37),
            new IntegerDivider(0X335C49D5, 38),
            new IntegerDivider(0X66666667, 39),
            new IntegerDivider(0X6614BC37, 39),
            new IntegerDivider(0XCB8727C1, 40),
            new IntegerDivider(0X06572EC3, 35),
            new IntegerDivider(0X1948B0FD, 37),
            new IntegerDivider(0X64D319FF, 39),
            new IntegerDivider(0X0C907DA5, 36),
            new IntegerDivider(0XC86A7891, 40),
            new IntegerDivider(0X63E7063F, 39),
            new IntegerDivider(0X18E6527B, 37),
            new IntegerDivider(0X634C0635, 39),
            new IntegerDivider(0X317F9D01, 38),
            new IntegerDivider(0X3159721F, 38),
            new IntegerDivider(0XC4CE07B1, 40),
            new IntegerDivider(0X621B97C3, 39),
            new IntegerDivider(0XC3A13DE7, 40),
            new IntegerDivider(0X30C30C31, 38),
            new IntegerDivider(0X309E0185, 38),
            new IntegerDivider(0X60F25DEB, 39),
            new IntegerDivider(0XC152500D, 40),
            new IntegerDivider(0X60606061, 39),
            new IntegerDivider(0X300C0301, 38),
            new IntegerDivider(0XBFA02FE9, 40),
            new IntegerDivider(0X2FC44AA3, 38),
            new IntegerDivider(0X2FA0BE83, 38),
            new IntegerDivider(0X5EFACE49, 39),
            new IntegerDivider(0X17AD2209, 37),
            new IntegerDivider(0X5E6EA9AF, 39),
            new IntegerDivider(0X2F149903, 38),
            new IntegerDivider(0X5DE42047, 39),
            new IntegerDivider(0X5D9F7391, 39),
            new IntegerDivider(0XBAB65611, 40),
            new IntegerDivider(0X2E8BA2E9, 38),
            new IntegerDivider(0XB9A7862B, 40),
            new IntegerDivider(0XB92143FB, 40),
            new IntegerDivider(0X5C4DE1B7, 39),
            new IntegerDivider(0XB81702E1, 40),
            new IntegerDivider(0X16F26017, 37),
            new IntegerDivider(0XB70FBB5B, 40),
            new IntegerDivider(0XB68D3135, 40),
            new IntegerDivider(0XB60B60B7, 40),
            new IntegerDivider(0X5AC5242B, 39),
            new IntegerDivider(0X2D4279A3, 38),
            new IntegerDivider(0XB48A39D5, 40),
            new IntegerDivider(0XB40B40B5, 40),
            new IntegerDivider(0XB38CF9B1, 40),
            new IntegerDivider(0XB30F6353, 40),
            new IntegerDivider(0X59493E15, 39),
            new IntegerDivider(0XB21642C9, 40),
            new IntegerDivider(0XB19AB5C5, 40),
            new IntegerDivider(0XB11FD3B9, 40),
            new IntegerDivider(0X5852CDA1, 39),
            new IntegerDivider(0X2C0B02C1, 38),
            new IntegerDivider(0X57D990D1, 39),
            new IntegerDivider(0XAF3ADDC7, 40),
            new IntegerDivider(0X057619F1, 35),
            new IntegerDivider(0XAE4C415D, 40),
            new IntegerDivider(0XADD5E633, 40),
            new IntegerDivider(0XAD602B59, 40),
            new IntegerDivider(0X567587C5, 39),
            new IntegerDivider(0XAC769185, 40),
            new IntegerDivider(0X2B00AC03, 38),
            new IntegerDivider(0XAB8F69E3, 40),
            new IntegerDivider(0X2AC72F75, 38),
            new IntegerDivider(0X2AAAAAAB, 38),
            new IntegerDivider(0X551C979B, 39),
            new IntegerDivider(0X15390949, 37),
            new IntegerDivider(0X54ABFD5B, 39),
            new IntegerDivider(0X151D07EB, 37),
            new IntegerDivider(0XA8791709, 40),
            new IntegerDivider(0XA80A80A9, 40),
            new IntegerDivider(0X14F38F63, 37),
            new IntegerDivider(0X5397829D, 39),
            new IntegerDivider(0X14D843BF, 37),
            new IntegerDivider(0X532AE21D, 39),
            new IntegerDivider(0X52F4FB77, 39),
            new IntegerDivider(0XA57EB503, 40),
            new IntegerDivider(0X2944FF5B, 38),
            new IntegerDivider(0X5254E78F, 39),
            new IntegerDivider(0XA4402911, 40),
            new IntegerDivider(0X51EB851F, 39),
            new IntegerDivider(0X28DB9C69, 38),
        };

        public static IntegerDivider GetDivider(int denominator)
        {
            return Dividers[denominator];
        }

        public static int Divide(int numerator, int denominator)
        {
            IntegerDivider magicNumber = Dividers[denominator];
            return magicNumber.Divide(numerator);
        }
    }
}
